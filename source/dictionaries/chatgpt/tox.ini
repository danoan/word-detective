[tox]
envlist = py3
isolated_build = true

[testenv]
description = Run unit tests (no API key required)
deps =
    pytest>=7.0.0
    word-def-plugin-multilanguage-chatgpt>=0.2.0
commands =
    pytest tests/ -m "not integration" {posargs}

[testenv:integration]
description = Run integration tests (requires API key)
deps =
    pytest>=7.0.0
    word-def-plugin-multilanguage-chatgpt>=0.2.0
passenv =
    OPENAI_API_KEY
commands =
    pytest tests/ -m integration {posargs}

[testenv:all]
description = Run all tests (requires API key for integration tests)
deps =
    pytest>=7.0.0
    word-def-plugin-multilanguage-chatgpt>=0.2.0
passenv =
    OPENAI_API_KEY
commands =
    pytest tests/ {posargs}

[pytest]
markers =
    integration: marks tests as integration tests (require API key)
